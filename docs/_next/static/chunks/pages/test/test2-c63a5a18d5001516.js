(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[651],{2686:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>C});var n=a(7876),t=a(4232),l=a(9021),i=a(4188),r=a(5050),d=a(1210),c=a(3108),o=a(3752),h=a(8291),x=a(1161),m=a(4736),u=a(4193),f=a(7473),j=a(6080),p=a(8845),g=a(9300),b=a(1423);function v(e){let{value:s,max:a,onChange:t,label:o,disabled:h=!1}=e;return(0,n.jsxs)(l.B,{gap:4,children:[(0,n.jsxs)(i.Y,{justify:"space-between",wrap:!1,children:[(0,n.jsx)(r.E,{size:"sm",children:o}),(0,n.jsx)(r.E,{size:"sm",c:h?"gray":"dimmed",children:"".concat(s," / ").concat(a)})]}),(0,n.jsx)(i.Y,{gap:6,children:Array.from({length:a},(e,a)=>{let l=a<s,i=a+1;return(0,n.jsx)(d.M,{radius:"xl",variant:"light",disabled:h,color:l?"blue":"gray",size:(0,c.D)(32),onClick:()=>t(i===s?0:i),children:l?(0,n.jsx)(g.A,{size:20}):(0,n.jsx)(b.A,{size:20})},a)})})]})}let M=[{id:"angelic_smite",name:"天罰の神撃",type:"spell",leader:"neutral",baseCost:5,effects:[{mode:"default",cost:5,conditions:{},effect:"フォロワー1体に5ダメージ"}]},{id:"enhance_bolt",name:"エンハンス・ボルト",type:"spell",leader:"witch",baseCost:3,effects:[{mode:"default",cost:3,conditions:{},effect:"敵1体に3ダメージ"},{mode:"enhance",cost:6,conditions:{},effect:"敵全体に3ダメージ（エンハンス）"}]}];function C(){let[e,s]=(0,t.useState)(1),[a,d]=(0,t.useState)(1),[c,g]=(0,t.useState)(0),[b,C]=(0,t.useState)(0),[w,E]=(0,t.useState)(1),[k,P]=(0,t.useState)(2),[_,S]=(0,t.useState)(2),[y,z]=(0,t.useState)("first"),[T,Y]=(0,t.useState)(!0),[D,B]=(0,t.useState)(!1),[$,N]=(0,t.useState)(4),[A,Z]=(0,t.useState)("dragon"),O="first"===y&&e>=5||"second"===y&&e>=4,X="first"===y&&e>=7||"second"===y&&e>=6,F=Math.min(10+c,a+c)+b,G=M.filter(e=>e.leader===A||"neutral"===e.leader).map(s=>({...s,availableEffects:s.effects.filter(a=>(function(e,s){let a=e.conditions||{};return!(void 0!==a.minTurn&&s.turn<a.minTurn||void 0!==a.minPP&&s.pp<a.minPP||void 0!==a.evolveTokenMin&&s.ep<a.evolveTokenMin||void 0!==a.superEvolveTokenMin&&s.sep<a.superEvolveTokenMin||"default"===e.mode&&s.cardEffects&&s.cardEffects.some(e=>"enhance"===e.mode&&e.cost<=s.pp))&&!(e.cost>s.pp)})(a,{turn:e,pp:w,ep:k,sep:_,cardEffects:s.effects})).sort((e,s)=>s.cost-e.cost)})).filter(e=>e.availableEffects.length>0).sort((e,s)=>s.baseCost-e.baseCost);return(0,n.jsxs)(i.Y,{align:"flex-start",wrap:"nowrap",children:[(0,n.jsx)(o.m,{size:"sm",py:"xl",style:{minWidth:300},children:(0,n.jsxs)(l.B,{gap:"lg",children:[(0,n.jsx)(h.h,{order:2,children:"\uD83E\uDDE0 対戦状況"}),(0,n.jsx)(r.E,{size:"sm",children:"リーダーと先後"}),(0,n.jsxs)(i.Y,{gap:"md",children:[(0,n.jsx)(x.l,{data:["elf","royal","witch","dragon","nightmare","bishop","nemesis"],value:A,onChange:Z,placeholder:"リーダーを選択",allowDeselect:!1,w:120}),(0,n.jsx)(m.s.Group,{value:y,onChange:z,children:(0,n.jsxs)(i.Y,{gap:"md",children:[(0,n.jsx)(m.s,{value:"first",label:"先手"}),(0,n.jsx)(m.s,{value:"second",label:"後手"})]})})]}),(0,n.jsx)(u.$,{onClick:function(){let a=e+1,n=Math.min(10,a),t=Math.min(c,10-n),l=+!T,i=Math.min(10+t,n+t)+l;s(a),d(n),g(t),C(l),C(0),E(i),N(e=>Math.min(e+1,9)),B(!1)},children:"次ターンへ →"}),(0,n.jsx)(v,{value:e,max:10,onChange:function(a){1!=a-e&&(B(!1),Y(!0),P(2),S(2)),6===a&&5===e&&Y(!0);let n=Math.min(10,a),t=Math.min(c,10-n),l=Math.min(10+t,n+t);s(a),d(n),g(t),C(0),E(l)},label:"ターン数"}),(0,n.jsx)(v,{value:$,max:9,onChange:N,label:"相手の手札枚数"}),(0,n.jsx)(v,{value:w,max:F,onChange:e=>E(Math.min(e,F)),label:"現在のPP（上限: ".concat(F,"）")}),(0,n.jsxs)(i.Y,{children:["dragon"===A&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u.$,{onClick:()=>{g(e=>{let s=Math.min(Math.min(e+1,Math.max(0,10-a)),10-a),n=Math.min(10+s,a+s);return w>n&&E(n),s})},children:"PP上限 +1"}),(0,n.jsx)(u.$,{onClick:()=>{g(e=>{let s=Math.min(Math.max(e-1,0),10-a),n=Math.min(10+s,a+s);return w>n&&E(n),s})},color:"red",children:"PP上限 -1"})]}),"second"===y&&(0,n.jsx)(f.d,{label:"エクストラPP",checked:!T,onChange:e=>{let s=e.currentTarget.checked;Y(!s),C(+!!s),E(e=>Math.min(e+(s?1:-1),F))}})]}),(0,n.jsxs)(j.x,{gap:"xl",align:"flex-start",children:[(0,n.jsx)(j.x.Col,{span:6,children:(0,n.jsx)(p.Z,{withBorder:!0,padding:"md",radius:"md",children:(0,n.jsxs)(i.Y,{gap:"xs",wrap:!1,children:[(0,n.jsx)(v,{value:k,max:2,onChange:P,disabled:!O,label:"EP"}),(0,n.jsx)(u.$,{onClick:()=>{P(e=>Math.max(0,e-1)),B(!0)},disabled:0===k||D||!O,children:"使う"})]})})}),(0,n.jsx)(j.x.Col,{span:6,children:(0,n.jsx)(p.Z,{withBorder:!0,padding:"md",radius:"md",children:(0,n.jsxs)(i.Y,{gap:"xs",wrap:!1,children:[(0,n.jsx)(v,{value:_,max:2,onChange:S,disabled:!X,label:"SEP"}),(0,n.jsx)(u.$,{onClick:()=>{S(e=>Math.max(0,e-1)),B(!0)},disabled:0===_||D||!X,children:"使う"})]})})})]})]})}),(0,n.jsx)(o.m,{size:"lg",py:"xl",children:(0,n.jsxs)(l.B,{gap:"lg",children:[(0,n.jsx)(h.h,{order:2,children:"\uD83D\uDCA5 使用可能な除去カード"}),G.map(e=>(0,n.jsxs)(p.Z,{shadow:"sm",withBorder:!0,children:[(0,n.jsxs)(r.E,{fw:"bold",children:[e.name,"（",e.baseCost,"コスト）"]}),e.availableEffects.map((e,s)=>(0,n.jsxs)(i.Y,{justify:"space-between",children:[(0,n.jsxs)(r.E,{size:"sm",children:["・",e.effect,"（",e.cost,"）"]}),(0,n.jsx)(u.$,{size:"xs",onClick:()=>{E(s=>Math.max(0,Math.min(s-e.cost,F))),N(e=>Math.max(0,e-1))},disabled:e.cost>w,children:"使用"})]},s))]},e.id))]})})]})}},5468:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/test/test2",function(){return a(2686)}])}},e=>{var s=s=>e(e.s=s);e.O(0,[701,392,710,223,720,542,636,593,792],()=>s(5468)),_N_E=e.O()}]);