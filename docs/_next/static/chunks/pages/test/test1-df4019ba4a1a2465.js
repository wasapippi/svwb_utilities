(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[448],{2205:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>g});var n=t(7876),a=t(4232),i=t(9021),l=t(4188),o=t(5050),c=t(1210),r=t(3108),d=t(3752),h=t(8291),u=t(4736),x=t(4193),m=t(7473),f=t(8845),j=t(9300),p=t(1423);function v(e){let{value:s,max:t,onChange:a,label:d,disabled:h=!1}=e;return(0,n.jsxs)(i.B,{gap:4,children:[(0,n.jsxs)(l.Y,{justify:"space-between",children:[(0,n.jsx)(o.E,{size:"sm",children:d}),(0,n.jsx)(o.E,{size:"sm",c:h?"gray":"dimmed",children:h?"使用不可":"".concat(s," / ").concat(t)})]}),(0,n.jsx)(l.Y,{gap:6,children:Array.from({length:t},(e,t)=>{let i=t<s,l=t+1;return(0,n.jsx)(c.M,{radius:"xl",variant:"light",disabled:h,color:i?"blue":"gray",size:(0,r.D)(32),onClick:()=>a(l===s?0:l),children:i?(0,n.jsx)(j.A,{size:20}):(0,n.jsx)(p.A,{size:20})},t)})})]})}let b=[{id:"medusa",name:"猛毒姫・メドゥーサ",type:"follower",leader:"nightmare",baseCost:7,effects:[{mode:"default",cost:7,conditions:{minPP:7},effect:"突進・交戦フォロワーを破壊"}]},{id:"olivier",name:"勇壮の堕天使・オリヴィエ",type:"follower",leader:"nightmare",baseCost:7,effects:[{mode:"default",cost:7,conditions:{},effect:"突進、PP2回復"},{mode:"super_evolve",cost:0,conditions:{superEvolveTokenMin:1,minPP:7},effect:"超進化時：他フォロワー超進化"}]},{id:"death_strike",name:"死神の一振り",type:"spell",leader:"nightmare",baseCost:1,effects:[{mode:"default",cost:1,conditions:{},effect:"フォロワーを破壊"}]}];function g(){let[e,s]=(0,a.useState)(1),[t,c]=(0,a.useState)(1),[r,j]=(0,a.useState)(0),[p,g]=(0,a.useState)(0),[C,M]=(0,a.useState)(1),[P,k]=(0,a.useState)(2),[E,w]=(0,a.useState)(2),[_,S]=(0,a.useState)("first"),[y,T]=(0,a.useState)(!0),[z,Y]=(0,a.useState)(!1),[D,$]=(0,a.useState)(4),N="first"===_&&e>=5||"second"===_&&e>=4,A="first"===_&&e>=7||"second"===_&&e>=6,B=Math.min(10+r,t+r)+p,O=b.map(s=>({...s,availableEffects:s.effects.filter(s=>(function(e,s){let t=e.conditions||{};return(void 0===t.minTurn||!(s.turn<t.minTurn))&&(void 0===t.minPP||!(s.pp<t.minPP))&&(void 0===t.evolveTokenMin||!(s.ep<t.evolveTokenMin))&&(void 0===t.superEvolveTokenMin||!(s.sep<t.superEvolveTokenMin))&&!(e.cost>s.pp)})(s,{turn:e,pp:C,ep:P,sep:E})).sort((e,s)=>s.cost-e.cost)})).filter(e=>e.availableEffects.length>0).sort((e,s)=>s.baseCost-e.baseCost);return(0,n.jsxs)(l.Y,{align:"flex-start",wrap:"nowrap",children:[(0,n.jsx)(d.m,{size:"xs",py:"xl",children:(0,n.jsxs)(i.B,{gap:"lg",children:[(0,n.jsx)(h.h,{order:2,children:"\uD83E\uDDE0 対戦状況"}),(0,n.jsx)(u.s.Group,{label:"あなたは先手？後手？",value:_,onChange:S,children:(0,n.jsxs)(l.Y,{gap:"md",children:[(0,n.jsx)(u.s,{value:"first",label:"先手"}),(0,n.jsx)(u.s,{value:"second",label:"後手"})]})}),(0,n.jsx)(x.$,{onClick:function(){let t=e+1;s(t);let n=Math.min(10,t);c(n),g(0),M(Math.min(n+r,B)),$(e=>Math.min(e+1,9)),Y(!1)},children:"次ターンへ →"}),(0,n.jsx)(v,{value:e,max:10,onChange:function(t){1!=t-e&&(Y(!1),T(!0),k(2),w(2)),6===t&&5===e&&T(!0),s(t);let n=Math.min(10,t);c(n),g(0),M(Math.min(n+r,B))},label:"ターン数"}),(0,n.jsx)(v,{value:D,max:9,onChange:$,label:"相手の手札枚数"}),(0,n.jsx)(v,{value:C,max:B,onChange:e=>M(Math.min(e,B)),label:"現在のPP（上限: ".concat(B,"）")}),(0,n.jsxs)(l.Y,{children:[(0,n.jsx)(x.$,{onClick:()=>j(e=>Math.min(e+1,11-t)),children:"PP上限 +1"}),(0,n.jsx)(x.$,{onClick:()=>j(e=>Math.max(e-1,0)),color:"red",children:"PP上限 -1"})]}),"second"===_&&(0,n.jsx)(m.d,{label:"エクストラPP（後攻専用）",checked:!y,onChange:e=>{let s=e.currentTarget.checked;T(!s),g(+!!s),M(e=>Math.min(e+(s?1:-1),B))}}),(0,n.jsxs)(l.Y,{children:[(0,n.jsx)(v,{value:P,max:2,onChange:k,disabled:!N,label:"進化ポイント"}),(0,n.jsx)(x.$,{onClick:()=>{k(e=>Math.max(0,e-1)),Y(!0)},disabled:0===P||z,children:"進化を使う"})]}),(0,n.jsxs)(l.Y,{children:[(0,n.jsx)(v,{value:E,max:2,onChange:w,disabled:!A,label:"超進化ポイント"}),(0,n.jsx)(x.$,{onClick:()=>{w(e=>Math.max(0,e-1)),Y(!0)},disabled:0===E||z,children:"超進化を使う"})]})]})}),(0,n.jsx)(d.m,{size:"xs",py:"xl",children:(0,n.jsxs)(i.B,{gap:"lg",children:[(0,n.jsx)(h.h,{order:2,children:"\uD83D\uDCA5 使用可能な除去カード"}),O.map(e=>(0,n.jsxs)(f.Z,{shadow:"sm",withBorder:!0,children:[(0,n.jsxs)(o.E,{fw:"bold",children:[e.name,"（",e.baseCost,"コスト）"]}),e.availableEffects.map((e,s)=>(0,n.jsxs)(l.Y,{justify:"space-between",children:[(0,n.jsxs)(o.E,{size:"sm",children:["・",e.effect,"（",e.cost,"）"]}),(0,n.jsx)(x.$,{size:"xs",onClick:()=>M(s=>Math.max(0,Math.min(s-e.cost,B))),disabled:e.cost>C,children:"使用"})]},s))]},e.id))]})})]})}},8402:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/test/test1",function(){return t(2205)}])}},e=>{var s=s=>e(e.s=s);e.O(0,[43,241,490,636,593,792],()=>s(8402)),_N_E=e.O()}]);